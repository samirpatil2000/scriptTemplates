<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- COMMON TAGS -->
	<title>Categories with django-mptt | DjangoPy</title>
	<!-- Search Engine -->
	<meta property="description" content="In this post, we'll learn how to implement categories in Django efficiently by storing hierarchical data in place of making many database queries since database queries are costly in terms of time complexity.">
	<meta property="image" content="https://djangopy.org/static/images/footer_logo.png">
	<!-- Schema.org for Google -->

	<!-- Open Graph general (Facebook, Pinterest & Google+) -->
	<meta property="og:title" content="Categories with django-mptt | DjangoPy">
	<meta property="og:description" content="In this post, we'll learn how to implement categories in Django efficiently by storing hierarchical data in place of making many database queries since database queries are costly in terms of time complexity.">
	<meta property="og:image" content="https://djangopy.org/img/categories-with-django-mptt/cover.jpg">

	<meta property="og:url" content="https://djangopy.org/package-of-week/categories-with-django-mptt/">
	<meta property="og:site_name" content="DjangoPy">
	<meta property="og:locale" content="en_US">
	<meta property="fb:admins" content="https://www.facebook.com/djangopy.org">
	<meta property="og:type" content="article">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary">
	<meta property="twitter:title" content="Categories with django-mptt | DjangoPy">
	<meta property="twitter:description" content="In this post, we'll learn how to implement categories in Django efficiently by storing hierarchical data in place of making many database queries since database queries are costly in terms of time complexity.">
	<meta property="twitter:site" content="@DjangoPy_Admin">
	<meta property="twitter:creator" content="@DjangoPy_Admin">
	<meta property="twitter:image:src" content="https://djangopy.org/img/categories-with-django-mptt/cover.jpg">
	<!-- Twitter - Article -->
	<!-- Open Graph - Article -->
	<meta property="article:section" content="package-of-the-week">
	<meta property="article:published_time" content="2017-07-30 15:04:07 +0000">
	<meta properry="article:author" content="https://www.facebook.com/djangopy.org">
	<meta property="article:modified_time" content="2017-07-30 15:04:07 +0000">
	
	<meta property="article:tag" content="Django-Authentication-System" />
	
	<meta property="article:tag" content="Django-Authentication" />
	
	<meta property="article:tag" content="login" />
	
	<meta property="article:tag" content="logout" />
	
	<meta property="article:tag" content="register" />
	
	<meta property="article:tag" content="django" />
	
	<meta property="article:tag" content="djangopy" />
	

	<meta property="revisit-after" content="2 days" />
	<meta property="distribution" content="web" />
	<meta property="article:publisher" content="https://www.facebook.com/djangopy.org/" />
	<meta name="description" content="In this post, we'll learn how to implement categories in Django efficiently by storing hierarchical data in place of making many database queries since database queries are costly in terms of time complexity." />
	<link rel="canonical" href="https://djangopy.org/package-of-week/categories-with-django-mptt/">
	<link rel="alternate" type="application/rss+xml" title="DjangoPy"
		href="https://djangopy.org/feed.xml">
	<!-- Favicon-->
	<link rel="shortcut icon" href="/img/favicon1.ico">


	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css">
<link rel="stylesheet" href="/css/default.css" id="theme-stylesheet">
<link rel="stylesheet" href="/css/custom.css">
<link rel = "stylesheet" href="/css/github.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"> </script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script>
	<script src="/js/front.js"></script>

	<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
	<script src="/js/front.js"></script>
	<script type="text/javascript" src = "/js/highlight.pack.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
	<script data-ad-client="ca-pub-6919956837847263" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	
	<script src="/js/post.js"></script>
	<script>
	window.addEventListener("load", function(){
	window.cookieconsent.initialise({
	  "palette": {
		"popup": {
		  "background": "#241f1f"
		},
		"button": {
		  "background": "#ededed"
		}
	  },
	  "theme": "classic"
	})});
	</script>


	<script>
		hljs.initHighlightingOnLoad();
	</script>

	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">

	
	<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
     ga('create', 'UA-98271390-1', 'auto');
     ga('send', 'pageview');
   </script>
	
</head>
  <body>
    <header class="header">
  <!-- Main Navbar-->
  <nav class="navbar navbar-expand-lg navbar-toggleable-lg">
    <div class="search-area">
      <div class="search-area-inner d-flex justify-content-center">
        <div class="close-btn"><i class="fa fa-2x fa-times"></i></div>
        <div class="row d-flex justify-content-center" style="margin-top:15%;">
          <div class="col-md-8">
            <form action="#" id = "search_form">
              <div class="form-group">
                <input type="search" name="search" id="search" placeholder="What are you looking for?" autocomplete="off">
                <button type="submit" class="submit"><i class="fa fa-search"></i></button>
              </div>
              <div id = "search_results">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <!-- Navbar Brand -->
      <div class="navbar-header d-flex align-items-center justify-content-between">
        <!-- Navbar Brand --><a href="/" class="navbar-brand"><img src = "/img/djangopy_logo8.png" id = "logo"></a>
        <!-- Toggle Button-->
        <button type="button" data-toggle="collapse" data-target="#navbarcollapse" aria-controls="navbarcollapse" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span></span><span></span><span></span></button>
      </div>
      <!-- Navbar Menu -->
      <div id="navbarcollapse" class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a href="/" class="nav-link">Home</a>
          </li>
          <li class="nav-item"><a href="/about" class="nav-link ">About</a>
          </li>
          <li class="nav-item"><a href="/" class="nav-link ">Posts</a>
          </li>
          <li class="nav-item"><a href="/contact" class="nav-link ">Contact</a>
          </li>
        </ul>
        <div class="navbar-text"><a href="#" class="search-btn" id = "search_button"><i class="fa fa-search"></i></a></div>
      </div>
    </div>
  </nav>
</header>


    <div class="page-content">
      <div class="wrapper">
        <br>
<div class="post">
    <div class="container">
        <div class="row justify-content-md-center" id="cover-section">
            <div class="col-md-9">
                <img 
    class="img-fluid lazy" 
    alt="" 
    src="/img/categories-with-django-mptt/cover.jpg" 
    title="" 
/>
                <br><br>
                <h1 class="post-title" style="margin-top:15px;">Categories with django-mptt</h1>
                <h6 class="post-spans">Posted: 30 July 2017 | Post By: Karan Suthar |
                    <!-- <span id="ga-page-view" ga-page-url=/package-of-week/categories-with-django-mptt/></span> <i class="fa fa-eye"></i> |  -->
                    <i class="fa fa-clock"></i>
                    8 min read |
                    <a style="text-decoration: none;" href="https://djangopy.org/package-of-week/categories-with-django-mptt/#disqus_thread"
                        data-disqus-identifier="/package-of-week/categories-with-django-mptt/">
                        <i class="fa fa-comment"></i>
                    </a>
                </h6>
                <br>
                <hr /><br>
            </div>
        </div>
        <div class="row justify-content-md-center" id="content_area">
            <div class="col-12 col-sm-12 col-md-9 col-lg-2" id="toc_navbar">
                <nav class = "navbar navbar-light" id = "toc-nav" style = "display:grid;border:none;"> 
  <h5>Contents</h5>
      <ul class="nav nav-pills">
<li class="toc-entry nav-item toc-h2"><a href="#introduction">Introduction</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#installation">Installation</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#jump-into-the-code">Jump into the code</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#final-words">FINAL WORDS</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#related-packages">RELATED PACKAGES</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#useful-links">USEFUL LINKS</a></li>
</ul>
</nav>
            </div>

            <div class="col-md-9">
                <div class="post-content" data-spy="scroll" data-target="#toc-nav" data-offset="0"> 
                    <h2 id="introduction">Introduction</h2>
<p>In this tutorial, we will learn how to implement categories and breadcrumb in a Django site. Categories may be related to each other as child-parent, so categories are hierarchical data and to store and access them efficiently mptt i.e modified preorder tree traversal should be used in which the number of database queries made is minimum. There are some referral links provided at the end of the article to understand how CRUD operations are applied on hierarchical data efficiently.</p>

<h2 id="installation">Installation</h2>

<figure class="highlight">
  <pre><code class="language-shell" data-lang="shell">pip3 <span class="nb">install </span>django-mptt</code></pre>
</figure>

<p>And add <strong>mptt</strong> in <strong>INSTALLED_APPS</strong> in <strong>settings.py</strong></p>

<h2 id="jump-into-the-code">Jump into the code</h2>

<p>We will be implementing categories and breadcrumb for a blog website. So consider following models for my_posts app in Django project.</p>

<h4 id="modelspy">Models.py</h4>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">mptt.models</span> <span class="kn">import</span> <span class="n">MPTTModel</span><span class="p">,</span> <span class="n">TreeForeignKey</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>
  <span class="n">category</span> <span class="o">=</span> <span class="n">TreeForeignKey</span><span class="p">(</span><span class="s">'Category'</span><span class="p">,</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="s">'Content'</span><span class="p">)</span>
  <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span></code></pre>
</figure>

<h5 id="and-category-model-be-">And category model be :</h5>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Category</span><span class="p">(</span><span class="n">MPTTModel</span><span class="p">):</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">parent</span> <span class="o">=</span> <span class="n">TreeForeignKey</span><span class="p">(</span><span class="s">'self'</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">'children'</span><span class="p">,</span> <span class="n">db_index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">slug</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">SlugField</span><span class="p">()</span>

  <span class="k">class</span> <span class="nc">MPTTMeta</span><span class="p">:</span>
    <span class="n">order_insertion_by</span> <span class="o">=</span> <span class="p">[</span><span class="s">'name'</span><span class="p">]</span>

  <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
    <span class="n">unique_together</span> <span class="o">=</span> <span class="p">((</span><span class="s">'parent'</span><span class="p">,</span> <span class="s">'slug'</span><span class="p">,))</span>
    <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s">'categories'</span>

  <span class="k">def</span> <span class="nf">get_slug_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">ancestors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ancestors</span><span class="p">(</span><span class="n">include_self</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
      <span class="n">ancestors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">ancestors</span> <span class="o">=</span> <span class="p">[</span> <span class="n">i</span><span class="o">.</span><span class="n">slug</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ancestors</span><span class="p">]</span>
    <span class="n">slugs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ancestors</span><span class="p">)):</span>
      <span class="n">slugs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'/'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ancestors</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">slugs</span>

  <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span></code></pre>
</figure>

<p>Now run migration commands to create database tables. To show categories in admin panel add following to project_name/my_posts/admin.py</p>

<h4 id="adminpy">Admin.py</h4>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">mptt.admin</span> <span class="kn">import</span> <span class="n">MPTTModelAdmin</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span><span class="n">PostAdmin</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Category</span> <span class="p">,</span> <span class="n">MPTTModelAdmin</span><span class="p">)</span> </code></pre>
</figure>

<p>Now run the following command to collect static files from mptt, provided that you’ve already defined STATIC_ROOT in settings.py</p>

<figure class="highlight">
  <pre><code class="language-bash" data-lang="bash">python3 manage.py collectstatic</code></pre>
</figure>

<p>Doing these steps, you can now add some nested categories by selecting categories &gt; ADD  CATEGORY of my_posts app in Django Admin panel, there is an image below to illustrate how to create a category object.</p>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/1_cropped.jpg" title="" /></p>

<p>After adding some categories, we have following category tree</p>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/2_cropped.jpg" title="" /></p>

<p>If you want to change the indentation pixels i.e the space before each category object so that the relation between them can be determined easily, add the following line of code in settings.py</p>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="n">MPTT_ADMIN_LEVEL_INDENT</span> <span class="o">=</span> <span class="mi">20</span>   <span class="c1">#you can replace 20 with some other number
</span>                                 <span class="c1">#to change indentation space</span></code></pre>
</figure>

<p>The category tree showed above is not collapsable and expandable, you can tweak this by changing <strong>my_posts/admin.py</strong> as</p>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">mptt.admin</span> <span class="kn">import</span> <span class="n">DraggableMPTTAdmin</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span><span class="n">PostAdmin</span><span class="p">)</span>
<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span> <span class="n">DraggableMPTTAdmin</span> <span class="p">)</span></code></pre>
</figure>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/3_cropped.jpg" title="" /></p>

<p>Now go to posts &gt; ADD POST then you will find category drop-down to associate a category to that post, this field is not a required field so you may leave it untouched.</p>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/4_cropped.jpg" title="" /></p>

<h4 id="urlspy">Urls.py</h4>
<p>Next, we have to add URL pattern for the category, so go to urls.py and add the following line to the urlpatterns list.</p>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="n">url</span><span class="p">(</span><span class="s">r'^category/(?P&lt;hierarchy&gt;.+)/$'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">show_category</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'category'</span><span class="p">),</span></code></pre>
</figure>

<h4 id="viewspy">Views.py</h4>
<p>Now in views.py add the following function.</p>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">show_category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">hierarchy</span><span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="n">category_slug</span> <span class="o">=</span> <span class="n">hierarchy</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">all</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">slug</span> <span class="ow">in</span> <span class="n">category_slug</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">slug</span> <span class="o">=</span> <span class="n">slug</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span><span class="n">slug</span><span class="o">=</span><span class="n">category_slug</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span> <span class="n">slug</span> <span class="o">=</span> <span class="n">category_slug</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">"postDetail.html"</span><span class="p">,</span> <span class="p">{</span><span class="s">'instance'</span><span class="p">:</span><span class="n">instance</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'categories.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'instance'</span><span class="p">:</span><span class="n">instance</span><span class="p">})</span>
 </code></pre>
</figure>

<h4 id="templatescategorieshtml">Templates/categories.html</h4>
<p>Add following code in categories.html.</p>

<figure class="highlight">
  <pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">'base.html'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="nv">load</span> <span class="nv">static</span>  <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head_title</span> <span class="cp">%}</span> <span class="cp">{{</span> <span class="nv">instance.name</span> <span class="cp">}}</span> <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-center"</span><span class="nt">&gt;&lt;h2&gt;</span><span class="cp">{{</span><span class="nv">instance.name</span><span class="cp">}}</span><span class="nt">&lt;/h2&gt;&lt;/div&gt;</span>

<span class="cp">{%</span> <span class="k">if</span>  <span class="nv">instance.children.all</span> <span class="cp">%}</span>
    <span class="nt">&lt;h4&gt;</span>Sub Categories<span class="nt">&lt;/h4&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="ow">in</span> <span class="nv">instance.children.all</span> <span class="cp">%}</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">i.slug</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span> <span class="cp">{{</span> <span class="nv">i.name</span> <span class="cp">}}</span> <span class="nt">&lt;/a&gt;&lt;br&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

    <span class="nt">&lt;br&gt;&lt;hr&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span>  <span class="nv">instance.post_set.all</span> <span class="cp">%}</span>
 <span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="ow">in</span> <span class="nv">instance.post_set.all</span> <span class="cp">%}</span>
  <span class="nt">&lt;h4&gt;</span>Posts<span class="nt">&lt;/h4&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row small-up-1 medium-up-3"</span> <span class="nt">&gt;</span>

   <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">i.slug</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span> <span class="na">style=</span><span class="s">"width: 300px; border-color: black"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-divider"</span><span class="nt">&gt;</span>
           <span class="nt">&lt;strong&gt;</span><span class="cp">{{</span> <span class="nv">i.title</span> <span class="err">|</span> <span class="nv">truncatechars</span><span class="err">:</span><span class="nv">30</span><span class="cp">}}</span><span class="nt">&lt;/strong&gt;</span>
         <span class="nt">&lt;/div&gt;</span>

         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-section"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;small&gt;</span><span class="cp">{{</span> <span class="nv">i.publish</span><span class="cp">}}</span> <span class="nt">&lt;/small&gt;</span>
          <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">i.content</span> <span class="err">|</span> <span class="nv">safe</span> <span class="err">|</span> <span class="nv">truncatechars_html</span><span class="err">:</span><span class="nv">120</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
         <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span></code></pre>
</figure>

<p>The CSS framework used is Zurb’s Foundation 6 you may use bootstrap as well.</p>

<p>Next,  add following code snippet inside the postDetail.html template to implement breadcrumbs in post detail page ( you should add it above post’s title ).</p>

<figure class="highlight">
  <pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="nv">load</span> <span class="nv">namify</span> <span class="cp">%}</span>

<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"breadcrumbs"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
     
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="ow">in</span> <span class="nv">instance.category.get_slug_list</span> <span class="cp">%}</span>
       <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/category/</span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">i</span> <span class="err">|</span> <span class="nv">get_name</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="nt">&lt;/ul&gt;</span> 
 </code></pre>
</figure>

<p>Note that filter get_name is used to extract the name of categories from the slug.</p>

<p>To implement this filter create a directory templatetags at the same level as models.py, views.py, etc in my_post app and create a empty python file <strong>init</strong>.py to ensure the directory is treated as a Python package and create another python file namify.py, add following code in it.</p>

<figure class="highlight">
  <pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">template</span>

<span class="n">register</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Library</span><span class="p">()</span>

<span class="o">@</span><span class="n">register</span><span class="o">.</span><span class="nb">filter</span>
<span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">spam</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'/'</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>         <span class="c1"># assume value be /python/web-scrapping
</span>                                        <span class="c1"># spam would be 'web-scrapping'
</span>    <span class="n">spam</span> <span class="o">=</span> <span class="s">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">spam</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'-'</span><span class="p">))</span>    <span class="c1"># now spam would be 'web scrapping'
</span>    <span class="k">return</span> <span class="n">spam</span></code></pre>
</figure>

<p>Finally, we have following post detail page for recently created post</p>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/5_cropped.jpg" title="" /></p>

<p>The breadcrumb above the title of the post is useful in navigation, for example, if you click web scrapping then it will take you to the catogories.html page where you can navigate posts in web scrapping as well as its sub categories as in the following image.</p>

<p><img class="img-fluid lazy" alt="" src="/img/categories-with-django-mptt/6_cropped.jpg" title="" /></p>

<h2 id="final-words">FINAL WORDS</h2>
<p>Modified Preorder Tree Traversal is not just limited to categories but can also be used for efficiently accessing and storing hierarchical data. Although insert and move operations are not as efficient if the tree is changing frequently. However, overall mptt is currently the best solution for database queries overhead. If you have  any problem in any step discussed above, you can check our Github Repository from <a href="https://github.com/djangopy-org/django_mptt_categories">here</a>.</p>

<h2 id="related-packages">RELATED PACKAGES</h2>

<ul>
  <li>django-categories</li>
  <li>django-treenav
 <br /> <br /></li>
</ul>

<h2 id="useful-links">USEFUL LINKS</h2>
<p><a href="https://github.com/django-mptt/django-mptt">https://github.com/django-mptt/django-mptt</a></p>

<p><a href="https://www.caktusgroup.com/blog/2016/01/04/modified-preorder-tree-traversal-django/">https://www.caktusgroup.com/blog/2016/01/04/modified-preorder-tree-traversal-django/</a></p>

<p><a href="https://www.sitepoint.com/hierarchical-data-database/">https://www.sitepoint.com/hierarchical-data-database/</a></p>

<p><a href="http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/">http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/</a></p>

<p>Happy Coding :)</p>


                </div>
                <div class="overlay-dark">
                    <div class="close-btn">
                        <i class="fa fa-2x fa-times"></i>
                    </div>
                </div>
                <img class="img-overlay">
                <br><br>

                <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'>
</script>
<script type='text/javascript'>
let kofi = ""
if(!kofi && !kofi.trim().length) 
    kofi = "jai_singhal"
kofiwidget2.init('Buy me a coffee', '#46b798', kofi);
kofiwidget2.draw();
</script> 

                <br><br>
                <ul class="socialIcons">
                    <li><a href="https://www.facebook.com/dialog/feed?app_id=184683071273&link=https://djangopy.org/package-of-week/categories-with-django-mptt/&picture=https://djangopy.orgimg/categories-with-django-mptt/cover.jpg&name=Categories with django-mptt&caption=%20&description=In this post, we'll learn how to implement categories in Django efficiently by storing hierarchical data in place of making many database queries since database queries are costly in terms of time complexity.&redirect_uri=http%3A%2F%2Fwww.facebook.com%2F"
                            class="Icon socialAccount--facebook" target="_blank"></a></li>
                    <li><a href="http://twitter.com/intent/tweet?text=Categories with django-mptt - DjangoPy https://djangopy.org/package-of-week/categories-with-django-mptt/"
                            class="Icon socialAccount--twitter" target="_blank"></a></li>
                    <li><a href=" https://plus.google.com/share?url=https://djangopy.org"
                            class="Icon socialAccount--google" target="_blank"></a></li>
                    <li><a href="mailto:djangopyz@gmail.com?&subject=DjangoPy | Learn, Code, Implement&body=Categories with django-mptt%0A https://djangopy.org/package-of-week/categories-with-django-mptt/"
                            target="_self" class="Icon socialAccount--mail" target="_blank"></a></li>
                </ul>
                <br>
                <hr><br>
                
                <div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
        powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
<script type="text/javascript" src="/js/post_detail.js"></script>
                
                <br>
                <hr><br>
            </div>
        </div>
    </div>
</div>
<script id="dsq-count-scr" src="//django-py.disqus.com/count.js" async></script>

<!-- Latest Posts -->
<section class="latest-posts" style="background-color: #F2F2F2;">
  <div class="container">
    <header>
      <h2 style="text-align:center;">Latest from the blog</h2>
      <br>
    </header>
    <div class="row">
      
      <div class="post col-md-4">
        <div class="post-thumbnail">
          <a href="/learn/dynamically-filter-queryset-with-ajax-and-drf/">
            <img 
    class="img-fluid lazy" 
    alt="" 
    src="/img/dynamically-filter-queryset-with-ajax-and-drf/cover.jpg" 
    title="" 
/>
          </a>
        </div>
        <div class="post-details">
          <div class="post-meta d-flex justify-content-between">
            <div class="date">05 March 2019</div>
            <div class="category"><a href="#">learn</a></div>
          </div><a href="/learn/dynamically-filter-queryset-with-ajax-and-drf/" class="catalogue-item" 
            style="text-decoration: none; padding: 2px 0 8px 0;">
            <h4>Dynamically filter queryset with AJAX and DRF</h4>
            <div class="catalogue-line" style="padding-bottom:5px;"></div>
            <p class="text-muted">In this post we will learn, how to filter the queryset using AJAX and DRF</p>
        </div></a>
      </div>
      
      <div class="post col-md-4">
        <div class="post-thumbnail">
          <a href="/learn/step-up-guide-to-implement-ajax-in-django/">
            <img 
    class="img-fluid lazy" 
    alt="" 
    src="/img/step-up-guide-to-implement-ajax-in-django/cover.jpg" 
    title="" 
/>
          </a>
        </div>
        <div class="post-details">
          <div class="post-meta d-flex justify-content-between">
            <div class="date">28 February 2019</div>
            <div class="category"><a href="#">learn</a></div>
          </div><a href="/learn/step-up-guide-to-implement-ajax-in-django/" class="catalogue-item" 
            style="text-decoration: none; padding: 2px 0 8px 0;">
            <h4>Step Up Guide to implement Ajax in Django</h4>
            <div class="catalogue-line" style="padding-bottom:5px;"></div>
            <p class="text-muted">In this post we will learn, how to submit the forms and perform asynchronous tasks with the help of AJAX</p>
        </div></a>
      </div>
      
      <div class="post col-md-4">
        <div class="post-thumbnail">
          <a href="/how-to/handle-asynchronous-tasks-with-celery-and-django">
            <img 
    class="img-fluid lazy" 
    alt="" 
    src="/img/handle-asynchronous-tasks-with-celery-and-django/cover.png" 
    title="" 
/>
          </a>
        </div>
        <div class="post-details">
          <div class="post-meta d-flex justify-content-between">
            <div class="date">16 February 2018</div>
            <div class="category"><a href="#">how-to</a></div>
          </div><a href="/how-to/handle-asynchronous-tasks-with-celery-and-django" class="catalogue-item" 
            style="text-decoration: none; padding: 2px 0 8px 0;">
            <h4>Handle Asynchronous Tasks using celery and Django</h4>
            <div class="catalogue-line" style="padding-bottom:5px;"></div>
            <p class="text-muted">In this post we will learn, how to implement celery to django application, to handle asynchronous tasks with Celery.</p>
        </div></a>
      </div>
      
    </div>
  </div>
</section>
      </div>
    </div>
    <center>
  <section class="section--subscribe">
    <div class="container">
      <h3 class="u-alignCenter">Stay in touch</h3>
      <p>
        Sign up for our newsletter to get latest updates, news and tutorials on Django. We hate spam as much you do!
      </p>
      <div class="row h-100 justify-content-center align-items-center">
        <div class="newsletterForm-wrapper">
          <div id="mc_embed_signup">
            <form action="https://djangopy.us15.list-manage.com/subscribe/post?u=d360054cce6cf1e173862fa58&amp;id=4b711b168e"
              method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
              novalidate>
              <div id="mc_embed_signup_scroll">
                <div class="mc-field-group">
                  <input type="email" value="" name="EMAIL" class="textInput textInput--large" id="mce-EMAIL"
                    placeholder="Your email address" style="width:100% !important;">
                </div>
                <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none; color: red;"></div>
                  <div class="response" id="mce-success-response" style="display:none; color: green;"></div>
                </div>
                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_d360054cce6cf1e173862fa58_4b711b168e"
                    tabindex="-1" value=""></div>
                <div class="clear u-alignCenter"><input type="submit" value="Get new blog posts by email" name="subscribe"
                    id="mc-embedded-subscribe" class="button-x button--primary"></div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <hr />
    </div>
  </section>

</center>

<footer class="section--footer">
  <div class="container container--content">
    <ul class="socialAccountList row h-100 justify-content-center align-items-center">
      <li><a href="http://www.github.com/djangopy-org" class="socialAccount socialAccount--github" target="_blank"></a></li>
      <li><a href="http://facebook.com/djangopy-org" class="socialAccount socialAccount--facebook" target="_blank"></a></li>
      <li><a href="http://twitter.com/DjangoPy_Admin" class="socialAccount socialAccount--twitter" target="_blank"></a></li>
      <li><a href="https://www.reddit.com/user/Djangopy-org/" class="socialAccount socialAccount--reddit" target="_blank"></a></li>
      <li><a href="mailto:djangopyz@gmail.com?&amp;subject=DjangoPy | Learn, Code, Implement&amp;body=How to Implement Categories in Django%0A https://djangopy.org/how-to/how-to-implement-categories-in-django/"
          target="_self" class="socialAccount socialAccount--mail" target="_blank"></a></li>
    </ul>
    <div>
      <p>
        Hand-crafted with 
        <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUyMi40NjggNTIyLjQ2OSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTIyLjQ2OCA1MjIuNDY5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTMyNS43NjIsNzAuNTEzbC0xNy43MDYtNC44NTRjLTIuMjc5LTAuNzYtNC41MjQtMC41MjEtNi43MDcsMC43MTVjLTIuMTksMS4yMzctMy42NjksMy4wOTQtNC40MjksNS41NjhMMTkwLjQyNiw0NDAuNTMgICAgYy0wLjc2LDIuNDc1LTAuNTIyLDQuODA5LDAuNzE1LDYuOTk1YzEuMjM3LDIuMTksMy4wOSwzLjY2NSw1LjU2OCw0LjQyNWwxNy43MDEsNC44NTZjMi4yODQsMC43NjYsNC41MjEsMC41MjYsNi43MS0wLjcxMiAgICBjMi4xOS0xLjI0MywzLjY2Ni0zLjA5NCw0LjQyNS01LjU2NEwzMzIuMDQyLDgxLjkzNmMwLjc1OS0yLjQ3NCwwLjUyMy00LjgwOC0wLjcxNi02Ljk5OSAgICBDMzMwLjA4OCw3Mi43NDcsMzI4LjIzNyw3MS4yNzIsMzI1Ljc2Miw3MC41MTN6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggZD0iTTE2Ni4xNjcsMTQyLjQ2NWMwLTIuNDc0LTAuOTUzLTQuNjY1LTIuODU2LTYuNTY3bC0xNC4yNzctMTQuMjc2Yy0xLjkwMy0xLjkwMy00LjA5My0yLjg1Ny02LjU2Ny0yLjg1NyAgICBzLTQuNjY1LDAuOTU1LTYuNTY3LDIuODU3TDIuODU2LDI1NC42NjZDMC45NSwyNTYuNTY5LDAsMjU4Ljc1OSwwLDI2MS4yMzNjMCwyLjQ3NCwwLjk1Myw0LjY2NCwyLjg1Niw2LjU2NmwxMzMuMDQzLDEzMy4wNDQgICAgYzEuOTAyLDEuOTA2LDQuMDg5LDIuODU0LDYuNTY3LDIuODU0czQuNjY1LTAuOTUxLDYuNTY3LTIuODU0bDE0LjI3Ny0xNC4yNjhjMS45MDMtMS45MDIsMi44NTYtNC4wOTMsMi44NTYtNi41NyAgICBjMC0yLjQ3MS0wLjk1My00LjY2MS0yLjg1Ni02LjU2M0w1MS4xMDcsMjYxLjIzM2wxMTIuMjA0LTExMi4yMDFDMTY1LjIxNywxNDcuMTMsMTY2LjE2NywxNDQuOTM5LDE2Ni4xNjcsMTQyLjQ2NXoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBkPSJNNTE5LjYxNCwyNTQuNjYzTDM4Ni41NjcsMTIxLjYxOWMtMS45MDItMS45MDItNC4wOTMtMi44NTctNi41NjMtMi44NTdjLTIuNDc4LDAtNC42NjEsMC45NTUtNi41NywyLjg1N2wtMTQuMjcxLDE0LjI3NSAgICBjLTEuOTAyLDEuOTAzLTIuODUxLDQuMDktMi44NTEsNi41NjdzMC45NDgsNC42NjUsMi44NTEsNi41NjdsMTEyLjIwNiwxMTIuMjA0TDM1OS4xNjMsMzczLjQ0MiAgICBjLTEuOTAyLDEuOTAyLTIuODUxLDQuMDkzLTIuODUxLDYuNTYzYzAsMi40NzgsMC45NDgsNC42NjgsMi44NTEsNi41N2wxNC4yNzEsMTQuMjY4YzEuOTA5LDEuOTA2LDQuMDkzLDIuODU0LDYuNTcsMi44NTQgICAgYzIuNDcxLDAsNC42NjEtMC45NTEsNi41NjMtMi44NTRMNTE5LjYxNCwyNjcuOGMxLjkwMy0xLjkwMiwyLjg1NC00LjA5NiwyLjg1NC02LjU3ICAgIEM1MjIuNDY4LDI1OC43NTUsNTIxLjUxNywyNTYuNTY1LDUxOS42MTQsMjU0LjY2M3oiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K" />
        +
        <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMCA1MTAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMCA1MTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iZmF2b3JpdGUiPgoJCTxwYXRoIGQ9Ik0yNTUsNDg5LjZsLTM1LjctMzUuN0M4Ni43LDMzNi42LDAsMjU3LjU1LDAsMTYwLjY1QzAsODEuNiw2MS4yLDIwLjQsMTQwLjI1LDIwLjRjNDMuMzUsMCw4Ni43LDIwLjQsMTE0Ljc1LDUzLjU1ICAgIEMyODMuMDUsNDAuOCwzMjYuNCwyMC40LDM2OS43NSwyMC40QzQ0OC44LDIwLjQsNTEwLDgxLjYsNTEwLDE2MC42NWMwLDk2LjktODYuNywxNzUuOTUtMjE5LjMsMjkzLjI1TDI1NSw0ODkuNnoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K" />
        +
        <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNNTAyLDIwNi41aC04MnYtMjEuMTY3YzAtNS41MjMtNC40NzgtMTAtMTAtMTBIMTk0Yy01LjUyMiwwLTEwLDQuNDc3LTEwLDEwYzAsNS41MjMsNC40NzgsMTAsMTAsMTBoMjA2djc2LjY2NiAgICBjMCw2Ny4zNDgtMzUuOTU3LDEyOS45NDItOTQuMDE4LDE2NEgxMTQuMDE4QzU1Ljk1Nyw0MDEuOTQyLDIwLDMzOS4zNDcsMjAsMjcydi03Ni42NjZoNjdjNS41MjIsMCwxMC00LjQ3NywxMC0xMCAgICBjMC01LjUyMy00LjQ3OC0xMC0xMC0xMEgxMGMtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMFYyNzJjMCwzNy44LDEwLjE2LDc0Ljg2NCwyOS4zODIsMTA3LjE4MyAgICBDNDIuMzQ1LDQwMC45OCw1OS4xNjUsNDIwLjIyOCw3OC44NjIsNDM2SDEwYy01LjUyMiwwLTEwLDQuNDc3LTEwLDEwYzAsMzYuMzkzLDI5LjYwNyw2Niw2Niw2NmgzMTJjMzYuMzkzLDAsNjYtMjkuNjA3LDY2LTY2ICAgIGMwLTUuNTIzLTQuNDc4LTEwLTEwLTEwaC05Mi44NjJjMTguMTI5LTE0LjUxNiwzMy44MTItMzEuOTgzLDQ2LjMwMi01MS42NjdoMjguMjI3QzQ2OC43ODUsMzg0LjMzMyw1MTIsMzQxLjExOCw1MTIsMjg4di03MS41ICAgIEM1MTIsMjEwLjk3Nyw1MDcuNTIzLDIwNi41LDUwMiwyMDYuNXogTTQyMi45MDUsNDU2Yy00LjU3OCwyMC41NzItMjIuOTc0LDM2LTQ0LjkwNSwzNkg2NmMtMjEuOTMxLDAtNDAuMzI2LTE1LjQyOC00NC45MDUtMzYgICAgaDkwLjI0NGgxOTcuMzIySDQyMi45MDV6IE00MjAsMjcydi01LjVoMzJWMjg4YzAsMjAuMDM0LTE2LjI5OSwzNi4zMzMtMzYuMzMzLDM2LjMzM2gtMi4yNzFDNDE3Ljc2MSwzMDcuMzI3LDQyMCwyODkuNzQ1LDQyMCwyNzIgICAgeiBNNDkyLDI4OGMwLDQyLjA5LTM0LjI0Myw3Ni4zMzMtNzYuMzMzLDc2LjMzM2gtMTcuMDJjMy4xOTMtNi41MjEsNi4wNDUtMTMuMTk3LDguNTM3LTIwaDguNDgzICAgIEM0NDYuNzMsMzQ0LjMzMyw0NzIsMzE5LjA2Miw0NzIsMjg4di0zMS41YzAtNS41MjMtNC40NzgtMTAtMTAtMTBoLTQydi0yMGg3MlYyODh6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMjE5LjU0OSw1NS4zNDNsLTUuMjAzLTYuNTMzYy03LjYzOC05LjU4OC03LjY0OS0yMi45OTEtMC4wMjctMzIuNTkzYzMuNDM0LTQuMzI2LDIuNzEtMTAuNjE2LTEuNjE2LTE0LjA0OSAgICBjLTQuMzI3LTMuNDM1LTEwLjYxNi0yLjcxLTE0LjA1LDEuNjE2Yy0xMy40NDIsMTYuOTM2LTEzLjQyMiw0MC41NzUsMC4wNDksNTcuNDg3bDUuMjAzLDYuNTMzICAgIGM5Ljk4MSwxMi41Myw5Ljk5NiwzMC4wNDUsMC4wMzYsNDIuNTk0bC01LjMzMiw2LjcxOGMtMy40MzQsNC4zMjYtMi43MSwxMC42MTYsMS42MTYsMTQuMDQ5YzEuODM5LDEuNDU5LDQuMDMyLDIuMTY4LDYuMjEsMi4xNjggICAgYzIuOTQ2LDAsNS44NjUtMS4yOTYsNy44NC0zLjc4NGw1LjMzMi02LjcxOEMyMzUuMzg3LDEwMi45NDksMjM1LjM2NCw3NS4xOTcsMjE5LjU0OSw1NS4zNDN6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMjc0Ljk3OCw3Ny44MjdsLTUuMjAzLTYuNTMyYy03LjYzOC05LjU4OS03LjY0OS0yMi45OTItMC4wMjctMzIuNTk0YzMuNDM0LTQuMzI2LDIuNzEtMTAuNjE2LTEuNjE2LTE0LjA0OSAgICBjLTQuMzI3LTMuNDM1LTEwLjYxNi0yLjcxLTE0LjA1LDEuNjE2Yy0xMy40NDIsMTYuOTM2LTEzLjQyMiw0MC41NzUsMC4wNDksNTcuNDg4bDUuMjAzLDYuNTMzICAgIGM5Ljk4LDEyLjUzMSw5Ljk5NSwzMC4wNDcsMC4wMzUsNDIuNTk1bC01LjMzMSw2LjcxN2MtMy40MzQsNC4zMjYtMi43MSwxMC42MTYsMS42MTYsMTQuMDQ5YzEuODM5LDEuNDU5LDQuMDMyLDIuMTY3LDYuMjEsMi4xNjcgICAgYzIuOTQ2LDAsNS44NjYtMS4yOTcsNy44NC0zLjc4NGw1LjMzLTYuNzE3QzI5MC44MTUsMTI1LjQzNSwyOTAuNzkyLDk3LjY4MywyNzQuOTc4LDc3LjgyN3oiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNjQuMTIsNzcuODI4bC01LjIwMy02LjUzMmMtNy42MzgtOS41ODgtNy42NDktMjIuOTkyLTAuMDI4LTMyLjU5NGMzLjQzNC00LjMyNiwyLjcxLTEwLjYxNi0xLjYxNi0xNC4wNSAgICBjLTQuMzI3LTMuNDM0LTEwLjYxNi0yLjcwOC0xNC4wNSwxLjYxNmMtMTMuNDQxLDE2LjkzNi0xMy40MjEsNDAuNTc2LDAuMDUsNTcuNDg4bDUuMjAzLDYuNTMzICAgIGM5Ljk4LDEyLjUzMSw5Ljk5NSwzMC4wNDcsMC4wMzYsNDIuNTk0bC01LjMzMiw2LjcxN2MtMy40MzQsNC4zMjYtMi43MTEsMTAuNjE2LDEuNjE1LDE0LjA1YzEuODM5LDEuNDU5LDQuMDMxLDIuMTY4LDYuMjEsMi4xNjggICAgYzIuOTQ2LDAsNS44NjUtMS4yOTYsNy44MzktMy43ODNsNS4zMzMtNi43MThDMTc5Ljk1NywxMjUuNDM2LDE3OS45MzQsOTcuNjg0LDE2NC4xMiw3Ny44Mjh6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMTUwLjI4LDE3OC4yNmMtMS44Ni0xLjg2LTQuNDQtMi45My03LjA3LTIuOTNzLTUuMjEsMS4wNy03LjA3LDIuOTNjLTEuODU5LDEuODctMi45Myw0LjQ0LTIuOTMsNy4wNyAgICBzMS4wNyw1LjIxLDIuOTMsNy4wOGMxLjg2LDEuODYsNC40NCwyLjkyLDcuMDcsMi45MnM1LjIxLTEuMDYsNy4wNy0yLjkyYzEuODY5LTEuODcsMi45My00LjQ0LDIuOTMtNy4wOCAgICBDMTUzLjIxLDE4Mi43LDE1Mi4xNDksMTgwLjEyLDE1MC4yOCwxNzguMjZ6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMzYyLDI2MmMtNS41MjIsMC0xMCw0LjQ3Ny0xMCwxMGMwLDM3LjExOS0xNS4wNTYsNzMuNTk4LTQxLjMwOCwxMDAuMDgzYy0zLjg4OCwzLjkyMi0zLjg1OSwxMC4yNTQsMC4wNjMsMTQuMTQyICAgIGMxLjk1LDEuOTMzLDQuNDk1LDIuODk4LDcuMDQsMi44OThjMi41NzQtMC4wMDEsNS4xNDgtMC45ODksNy4xMDMtMi45NjJDMzU0LjgzMiwzNTUuOTYxLDM3MiwzMTQuMzUxLDM3MiwyNzIgICAgQzM3MiwyNjYuNDc3LDM2Ny41MjIsMjYyLDM2MiwyNjJ6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMjkzLjg4NSwzOTkuMjI1Yy0yLjcxNC00LjgxMS04LjgxMy02LjUxLTEzLjYyMy0zLjc5N2wtMC4yMjgsMC4xMjljLTQuODExLDIuNzE0LTYuNTEsOC44MTMtMy43OTcsMTMuNjIzICAgIGMxLjgzOCwzLjI1OCw1LjIyNyw1LjA4OSw4LjcxOSw1LjA4OWMxLjY2NCwwLDMuMzUyLTAuNDE3LDQuOTA0LTEuMjkybDAuMjI4LTAuMTI5ICAgIEMyOTQuODk5LDQxMC4xMzQsMjk2LjU5OCw0MDQuMDM1LDI5My44ODUsMzk5LjIyNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K" />
      </p>
    </div>
    <div>
      © 2018 All Rights Reserved
    </div>
    <center><a href="/terms-of-services" target="_self">Term of Service</a> | <a href="/privacy-policy" target="_self">Privacy
        Policy</a> | <a href="/disclaimer" target="_self">Disclaimer </a> | <a href="/sitemap.xml" target="_self">Sitemap</a></center>
  </div>
</footer>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
<script type='text/javascript'>
  (function ($) {
    window.fnames = new Array();
    window.ftypes = new Array();
    fnames[0] = 'EMAIL';
    ftypes[0] = 'email';
    fnames[1] = 'FNAME';
    ftypes[1] = 'text';
    fnames[2] = 'LNAME';
    ftypes[2] = 'text';
  }(jQuery));
  var $mcj = jQuery.noConflict(true);
</script>
  </body>
</html>

